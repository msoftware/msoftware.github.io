<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Tue May 22 15:57:48 CEST 2018 -->
<title>Transaction</title>
<meta name="date" content="2018-05-22">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Transaction";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../androidx/room/SkipQueryVerification.html" title="annotation in androidx.room"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../androidx/room/TypeConverter.html" title="annotation in androidx.room"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?androidx/room/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">androidx.room</div>
<h2 title="Annotation Type Transaction" class="title">Annotation Type Transaction</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Target(value=METHOD)
 @Retention(value=CLASS)
public @interface <span class="memberNameLabel">Transaction</span></pre>
<div class="block">Marks a method in a <a href="../../androidx/room/Dao.html" title="annotation in androidx.room"><code>Dao</code></a> class as a transaction method.
 <p>
 When used on a non-abstract method of an abstract <a href="../../androidx/room/Dao.html" title="annotation in androidx.room"><code>Dao</code></a> class,
 the derived implementation of the method will execute the super method in a database transaction.
 All the parameters and return types are preserved. The transaction will be marked as successful
 unless an exception is thrown in the method body.
 <p>
 Example:
 <pre>
  @Dao
 public abstract class ProductDao {
     @Insert
     public abstract void insert(Product product);
     @Delete
     public abstract void delete(Product product);
     @Transaction
     public void insertAndDeleteInTransaction(Product newProduct, Product oldProduct) {
         // Anything inside this method runs in a single transaction.
         insert(newProduct);
         delete(oldProduct);
     }
 }
 </pre>
 <p>
 When used on a <a href="../../androidx/room/Query.html" title="annotation in androidx.room"><code>Query</code></a> method that has a <code>Select</code> statement, the generated code for
 the Query will be run in a transaction. There are 2 main cases where you may want to do that:
 <ol>
     <li>If the result of the query is fairly big, it is better to run it inside a transaction
     to receive a consistent result. Otherwise, if the query result does not fit into a single
     <code>CursorWindow</code>, the query result may be corrupted due to
     changes in the database in between cursor window swaps.
     <li>If the result of the query is a Pojo with <a href="../../androidx/room/Relation.html" title="annotation in androidx.room"><code>Relation</code></a> fields, these fields are
     queried separately. To receive consistent results between these queries, you probably want
     to run them in a single transaction.
 </ol>
 Example:
 <pre>
 class ProductWithReviews extends Product {
      @Relation(parentColumn = "id", entityColumn = "productId", entity = Review.class)
     public List&lt;Review> reviews;
 }
  @Dao
 public interface ProductDao {
      @Transaction  @Query("SELECT * from products")
     public List&lt;ProductWithReviews> loadAll();
 }
 </pre>
 If the query is an async query (e.g. returns a <a href="../../androidx/lifecycle/LiveData.html" title="class in androidx.lifecycle"><code>LiveData</code></a>
 or RxJava Flowable, the transaction is properly handled when the query is run, not when the
 method is called.
 <p>
 Putting this annotation on an <a href="../../androidx/room/Insert.html" title="annotation in androidx.room"><code>Insert</code></a>, <a href="../../androidx/room/Update.html" title="annotation in androidx.room"><code>Update</code></a> or <a href="../../androidx/room/Delete.html" title="annotation in androidx.room"><code>Delete</code></a> method has no
 impact because they are always run inside a transaction. Similarly, if it is annotated with
 <a href="../../androidx/room/Query.html" title="annotation in androidx.room"><code>Query</code></a> but runs an update or delete statement, it is automatically wrapped in a
 transaction.</div>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../androidx/room/SkipQueryVerification.html" title="annotation in androidx.room"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../androidx/room/TypeConverter.html" title="annotation in androidx.room"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?androidx/room/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Generated javadoc for the new package structure to make it clearer which packages are bundled with the Android operating system, and which are packaged with your app's APK. Going forward, the android.* package hierarchy will be reserved for Android packages that ship with the operating system; other packages will be issued in the new <a target=_top href='http://androidx.de/'>androidx</a>.* package hiearchy.</small></p>
</body>
</html>
